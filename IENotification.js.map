{"version":3,"sources":["webpack:///webpack/bootstrap 257305670a0de55dcc56","webpack:///./ts/IENotification.ts","webpack:///./ts/Position.ts","webpack:///./ts/Observable.ts","webpack:///./ts/DelayTasks.ts"],"names":[],"mappings":"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","file":"IENotification.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 257305670a0de55dcc56\n **/","'use strict';\r\n\r\nimport Position from './Position';\r\nimport Observable from './Observable';\r\nimport DelayTasks from './DelayTasks';\r\n\r\ndeclare interface IWindow extends Window{\r\n  open(url?: string, target?: string, features?: string, replace?: boolean): IWindow;\r\n  close();\r\n  focus();\r\n//  addEventListener(eventName:string, handler:Function);\r\n  Notification;\r\n  IENotification;\r\n  showModalDialog(dialog:string, varArgIn, varOptions);\r\n  setTimeout(func:Function, timeout:number);\r\n  showModelessDialog(url:string, param:any, options:string): Dialog;\r\n  lastPosition: Position;\r\n}\r\n\r\n\r\ndeclare interface Dialog extends IWindow{\r\n  dialogArguments:any;\r\n  dialogLeft:string;\r\n  dialogTop:string;\r\n  dialogHeight:string;\r\n  dialogWidth:string;\r\n  fixedPosition: Position;\r\n}\r\n\r\ndeclare class Promise<T>{\r\n  constructor(callback:(resolve:(T)=>void, reject:Function)=>void);\r\n}\r\n\r\ndeclare var window:IWindow;\r\n\r\nmodule ienotification{\r\n  //-------------------------------------------------------------------------------\r\n\r\n  const EVENT_OPEN = 'OPEN';\r\n  const EVENT_DISPOSE = 'DISPOSE';\r\n\r\n\r\n  class IENotification extends Observable{\r\n    title: string;\r\n    body: string;\r\n    icon: string;\r\n    data: string;\r\n    onclick: Function;\r\n    private _popup: Dialog;\r\n    private _bridge: Window;\r\n    delayTasks: DelayTasks;\r\n    closed: boolean;\r\n\r\n    static timeout = 20000;\r\n    public static basePath;\r\n    public static notificationPath;\r\n    public static notificationHeight = 90;\r\n    public static notificationWidth = 360;\r\n    public static edgeX = 5;\r\n    public static edgeY = 20;\r\n\r\n    constructor(title:string, options){\r\n      super();\r\n      let self = this;\r\n      self.title = title;\r\n      if (options){\r\n        self.body = options.body;\r\n        self.icon = options.icon;\r\n        self.data = options.data;\r\n      }\r\n      self.delayTasks = new DelayTasks();\r\n      self.closed = false;\r\n      IENotificationQueue.add(self);\r\n    }\r\n\r\n    show():void{\r\n      let self = this;\r\n      let height = IENotification.notificationHeight;\r\n      let width = IENotification.notificationWidth;\r\n      let left = screen.width - width;\r\n      let top = screen.height - height;\r\n      let bridge:IWindow = window.open(`${IENotification.notificationPath}bridge.html`, self.title, \r\n      `width=${width},height=${height},top=${top},left=${left},center=0,resizable=0,scroll=0,status=0,location=0`);\r\n\r\n      self._bridge = bridge;\r\n      self.delayTasks.addTask('initBridge', ()=> {\r\n        self._initBridge(bridge);\r\n      }, 10);\r\n      \r\n      self.fire(EVENT_OPEN);\r\n      window.addEventListener('unload', ()=>self.close());    \r\n    }\r\n    \r\n    public close():void{\r\n      let self = this;\r\n      if (self.closed){\r\n        return;        \r\n      }\r\n      if (self._bridge){\r\n        self._bridge.close();\r\n        self._bridge = null;\r\n      }\r\n      if (self._popup){\r\n        self._popup.close();\r\n        self._popup = null;\r\n      }\r\n    }\r\n\r\n    dispose():void{\r\n      let self = this;\r\n      if (self.closed){\r\n        return;        \r\n      }\r\n      this.delayTasks.endAllTasks();\r\n      if (self._bridge){\r\n        self._bridge.close();\r\n      }\r\n      self.fire(EVENT_DISPOSE);\r\n      self.closed = true;    \r\n      console.log('close notification...');\r\n    }\r\n\r\n\r\n    private _initBridge(bridge:IWindow){\r\n      let self = this;\r\n      let height = IENotification.notificationHeight + IENotification.edgeY;\r\n      let width = IENotification.notificationWidth + IENotification.edgeX;\r\n      let left = screen.width - width;\r\n      let top = screen.height - height;\r\n\r\n      let popup = bridge.showModelessDialog(`content.html`, self, \r\n        `dialogWidth:${width}px;dialogHeight:${height}px;dialogTop:${top}px;dialogLeft:${left}px;center:0;resizable:0;scroll:0;status:0;alwaysRaised=yes`);\r\n      self._popup = popup;\r\n      // self.delayTasks.addRepeatTask('fixDialogPosition', ()=>fixDialogPosition(popup), 100);\r\n      setDialogPosition(popup, getDialogPosition(popup));\r\n      bridge.addEventListener('unload', ()=>self.close());\r\n\r\n      self.delayTasks.addRepeatTask('fixBridgePosition', ()=>hideWindowBehindDialog(bridge, popup), 100);\r\n      self.delayTasks.addRepeatTask('hideDialogAfterMove', ()=>onDialogMoved(popup, ()=>self.close()), 100);\r\n      self.delayTasks.addTask('closePopup', ()=>self.close(), IENotification.timeout);\r\n    }\r\n\r\n    private _initPopup(popup:Dialog){\r\n      let self = this;\r\n      let titleDiv = popup.document.getElementById('title-div');\r\n      titleDiv.innerHTML = self.title;\r\n      let bodyDiv = popup.document.getElementById('body-div');\r\n      bodyDiv.innerText = self.body;\r\n      let iconImg = <HTMLImageElement>popup.document.getElementById('icon-img');\r\n      popup.document.title = appendBlankForTitle('');\r\n      iconImg.src = self.icon.indexOf('data:image/png;base64') == 0 ? self.icon : IENotification.basePath + self.icon;\r\n\r\n      popup.addEventListener('click', (event)=>self._doClick(event));\r\n      popup.addEventListener('unload', ()=>self.dispose());\r\n      popup.focus();\r\n    }\r\n\r\n    static initContentInPopup(popup:Dialog){\r\n      popup.dialogArguments._initPopup(popup);\r\n    }\r\n\r\n    //We don't need to implement this, just compatible with formal API\r\n    static requestPermission(callback:Function){\r\n      if (callback && callback instanceof Function){\r\n        callback('granted');\r\n      } else {\r\n        return new Promise<string>((res, rej)=>{\r\n          res('granted');\r\n        });\r\n      }\r\n    }\r\n\r\n\r\n    private _doClick(event:Event){\r\n      let self:IENotification = this;\r\n      event['notification'] = self;\r\n      if (self.onclick instanceof Function){\r\n        self.onclick(event);\r\n      }\r\n      self.close();\r\n      window.focus();\r\n    }\r\n  }\r\n\r\n  function getDialogPosition(dialog:Dialog):Position{\r\n    return new Position({\r\n      x: pxToNumber(dialog.dialogLeft),\r\n      y: pxToNumber(dialog.dialogTop),\r\n      w: pxToNumber(dialog.dialogWidth),\r\n      h: pxToNumber(dialog.dialogHeight)\r\n    });\r\n  }\r\n\r\n  function setDialogPosition(dialog:Dialog, pos:Position):void{\r\n    if (getDialogPosition(dialog).equals(pos)){\r\n      return;\r\n    }\r\n    dialog.dialogLeft = numberToPx(pos.x);\r\n    dialog.dialogTop = numberToPx(pos.y);\r\n    dialog.dialogWidth = numberToPx(pos.w);\r\n    dialog.dialogHeight = numberToPx(pos.h);\r\n  }\r\n\r\n  \r\n  function appendBlankForTitle(title:string):string {\r\n    let ret = [title];\r\n    for (let i = 0; i < 40; i++) {\r\n      ret.push('\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0');\r\n    }\r\n    return ret.join('');\r\n  }\r\n\r\n  function fixDialogPosition(dialog:Dialog):void{\r\n    if (!dialog){\r\n      return;\r\n    }\r\n    try {\r\n      if (!dialog.fixedPosition){\r\n        dialog.fixedPosition = getDialogPosition(dialog);\r\n        return;\r\n      }\r\n      setDialogPosition(dialog, dialog.fixedPosition);\r\n    } catch (e){\r\n      //do nothing here\r\n    }\r\n  }\r\n\r\n  function onDialogMoved(dialog:Dialog, handler:Function):void{\r\n    if (!dialog){\r\n      return;\r\n    }\r\n    try {\r\n      let pos = getDialogPosition(dialog);\r\n      if (!dialog.lastPosition){\r\n        dialog.lastPosition = pos;\r\n        return;\r\n      }\r\n      if (dialog.lastPosition.equals(pos)){\r\n        return;\r\n      }\r\n      handler();\r\n    } catch (e){\r\n      //do nothing here\r\n    }\r\n  }\r\n\r\n  function hideWindowBehindDialog(wnd:IWindow, dialog:Dialog){\r\n    if (!dialog){\r\n      return;\r\n    }\r\n    try {\r\n      let dialogPos = getDialogPosition(dialog);\r\n      if (wnd.lastPosition && wnd.lastPosition.equals(dialogPos)){\r\n        return;\r\n      }\r\n      wnd.moveTo(dialogPos.x + 20, dialogPos.y + 20);\r\n      wnd.resizeTo(dialogPos.w - 20, dialogPos.h - 20);\r\n      wnd.lastPosition = dialogPos;\r\n    } catch(e){\r\n      //do nothing here\r\n    }\r\n  }\r\n\r\n  function pxToNumber(str:string):number{\r\n    if (str.length < 2){\r\n      return 0;\r\n    }\r\n    return Number(str.substring(0, str.length - 2));\r\n  }\r\n\r\n  function numberToPx(num:number):string{\r\n    return num + 'px';\r\n  }\r\n\r\n  module IENotificationQueue{\r\n    let maxQueueSize = 20;\r\n    let popupQueue:IENotification[] = [];\r\n    let currentNoti:IENotification;\r\n\r\n    export function add(noti:IENotification){\r\n      if (popupQueue.length > maxQueueSize){\r\n        return;\r\n      }\r\n      noti.on(EVENT_OPEN, ()=>currentNoti = noti);\r\n      noti.on(EVENT_DISPOSE, ()=>{\r\n        currentNoti = null;\r\n        remove(noti);\r\n      });\r\n      if (isEmpty() && !currentNoti){\r\n        noti.show();\r\n      } else {\r\n        popupQueue.push(noti);\r\n      }\r\n    }\r\n\r\n    function remove(noti:IENotification){\r\n      arrayRemove(popupQueue, noti);\r\n      if (!isEmpty()){\r\n        window.setTimeout(() => popupQueue.pop().show(), 200);\r\n      }\r\n    }\r\n\r\n    function isEmpty():boolean{\r\n      return popupQueue.length == 0;\r\n    }\r\n\r\n    function arrayRemove(arr:Array<any>, item){\r\n      let index = arr.indexOf(item);\r\n      if (index > -1){\r\n        arr.splice(index, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  function syncWindowPosition(targetWin:Window, refWin:Window, offset={x:0,y:0}){\r\n    try {\r\n      let x = refWin.screenX + offset.x;\r\n      let y = refWin.screenY + offset.y;\r\n      if (targetWin.screenX != x || targetWin.screenY != y){\r\n        targetWin.moveTo(x, y);\r\n      }\r\n    } catch (e){\r\n      //do nothing here\r\n    }\r\n  }\r\n\r\n  function getDefaultRootPath():string{\r\n    let queryStr = window.location.search;\r\n    let urlStr = window.location.href;\r\n    let path = urlStr.substr(0, urlStr.length - queryStr.length);\r\n    return path.substring(0, path.lastIndexOf('/')) + '/';\r\n  }\r\n\r\n  IENotification.basePath = getDefaultRootPath();\r\n  IENotification.notificationPath = IENotification.basePath + \"IENotification/\";\r\n\r\n  if (!window.Notification){\r\n    window.Notification = window.IENotification= IENotification;\r\n  } \r\n\r\n}\r\n\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/IENotification.ts\n **/","export default class Position{\r\n  x:number;\r\n  y:number;\r\n  w:number;\r\n  h:number;\r\n  constructor({x=0, y=0, w=0, h=0}){\r\n    this.x = x;\r\n    this.y = y;\r\n    this.w = w;\r\n    this.h = h;\r\n  }\r\n  equals(pos:Position):boolean{\r\n    return this.x == pos.x && this.y == pos.y && this.w == pos.w && this.h == pos.h;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/Position.ts\n **/","\r\nexport default class Observable{\r\n  private listeners;\r\n  constructor(){\r\n    let self = this;\r\n    self.listeners = {};\r\n    self.addEventListener.bind(self);\r\n    self.removeEventListener.bind(self);\r\n    self.dispatchEvent.bind(self);\r\n    self.fire.bind(self);\r\n    self.on.bind(self);\r\n    self.un.bind(self);\r\n  }\r\n\r\n  addEventListener(eventName:string, func:Function){\r\n    let handlers:Function[] = this.listeners[eventName];\r\n    if (handlers){\r\n      handlers.push(func);\r\n    } else {\r\n      handlers = [func];\r\n      this.listeners[eventName] = handlers;\r\n    }\r\n  }\r\n\r\n  removeEventListener(eventName, func: Function){\r\n    let handlers:Function[] = this.listeners[eventName];\r\n    if (handlers){\r\n      let index = handlers.indexOf(func);\r\n      if (index > -1){\r\n        handlers.splice(index, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  dispatchEvent(eventName:string){\r\n    let self = this;\r\n    let handlers: Function[] = self.listeners[eventName];\r\n    let evt = new ObjectEvent(eventName);\r\n    if (handlers){\r\n      handlers.some(func=>{\r\n        try {\r\n          func.call(self, evt);\r\n          if (evt.stop){\r\n            return true;\r\n          }\r\n        } catch (error){\r\n          console.log(`Error in dispatchEvent ${eventName}...${error.message}`)\r\n          if (evt.stopWhenError){\r\n            return true;\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  fire(eventName:string){\r\n    this.dispatchEvent(eventName);\r\n  }\r\n\r\n  on(eventName:string, func:Function){\r\n    this.addEventListener(eventName, func);\r\n  }\r\n\r\n  un(eventName:string, func:Function){\r\n    this.removeEventListener(eventName, func);\r\n  }\r\n}\r\n\r\nclass ObjectEvent{\r\n  name:string;\r\n  stop:boolean;\r\n  stopWhenError:boolean;\r\n\r\n  constructor(name){\r\n    this.name = name;\r\n    this.stop = false;\r\n    this.stopWhenError = true;\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/Observable.ts\n **/","export default class DelayTasks{\r\n  tasks;\r\n\r\n  constructor(){\r\n    this.tasks = {};\r\n  }\r\n\r\n  addTask(taskName:string, func:Function, delay:number, repeat=false):void{\r\n    if (repeat){\r\n      this.tasks[taskName] = - setInterval(func, delay);\r\n    } else {\r\n      this.tasks[taskName] = setTimeout(func, delay);\r\n    }\r\n  }\r\n\r\n  addRepeatTask(taskName:string, func:Function, delay:number):void{\r\n    this.addTask(taskName, func, delay, true);\r\n  }\r\n\r\n  endTask(taskName):void{\r\n    let id = this.tasks[taskName];\r\n    if (id > 0){\r\n      clearTimeout(id);\r\n    } else {\r\n      clearInterval(-id);\r\n    }\r\n    delete this.tasks[taskName];\r\n  }\r\n\r\n  endAllTasks(){\r\n    Object.keys(this.tasks).forEach(taskName=>this.endTask(taskName));\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/DelayTasks.ts\n **/"],"sourceRoot":""}